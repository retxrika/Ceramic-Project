{% extends 'main/base.html' %}

{% block content %}
<div class="container-fluid-product">
    <div class="product-top">
        <li class="">
            <a class="product-top-link" href="{% url 'catalog:catalog' %}">КАТАЛОГ</a>
        </li>
        <p class="product-top-current">| {{ product.category.name }}</p>
    </div>

    <hr class="product-line">
    
    <div class="product">
        <div class="product-images">
            <img src="{{ product.image.url }}" alt="" id="image">
            <div class="product-images-bottom">
                <a href="#">
                    <img src="{{ product.image_2.url }}" alt="" onclick="image1()" id="image1" >
                </a>
                <a href="#">
                    <img src="{{ product.image_3.url }}" alt="" onclick="image2()" id="image2">
                </a>
                <a href="#">
                    <img src="{{ product.image_4.url }}" alt="" onclick="image3()" id="image3">
                </a>
                <a href="#">
                    <img src="{{ product.image_4.url }}" alt="" onclick="image4()" id="image4">
                </a>
            </div>
        </div>
        
        <script>
            function image1() {
                let main = document.getElementById("image").src;
                document.getElementById("image").src = document.getElementById("image1").src;
                document.getElementById("image1").src = main;
            }
            function image2() {
                let main = document.getElementById("image").src;
                document.getElementById("image").src = document.getElementById("image2").src;
                document.getElementById("image2").src = main;
            }
            function image3() {
                let main = document.getElementById("image").src;
                document.getElementById("image").src = document.getElementById("image3").src;
                document.getElementById("image3").src = main;
            }
            function image4() {
                let main = document.getElementById("image").src;
                document.getElementById("image").src = document.getElementById("image4").src;
                document.getElementById("image4").src = main;
            }
        </script>

        <div class="product-info">
            <h3>{{ product.title }}</h3>
            <div class="product-info-compos">
                <p>Состав: {{ product.compound }}</p>
                <p class='product-info-compos-price'>₽ {{ product.price }}</p>
                <div class="product-info-compos-chars">
                    <p>Размер изделия: {{ product.size }}</p>
                    <p>Упаковка: {{ product.package }}</p>
                    <p>Размер упаковки: {{ product.size_of_package }}</p>
                </div>
            </div>
            <div class="product-info-order">
                <h4>Доступно для предзаказа</h4>
                <form action="{% url 'cart:cart_add' product.id %}" method="post">
                    <div class="product-info-order-add-cart">
                        <p id="w">{{ cart_product_form }}</p>
                        {% csrf_token %}
                        <input type="submit" value="В корзину" class="product-info-add-cart-btn">
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div class="product-descriprion">
        <h3>Описание</h3>
        <!-- <p>{{ product.descriprion }}</p> -->
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Consequuntur quisquam distinctio nesciunt obcaecati nihil accusamus vero at unde nostrum aut, voluptatibus explicabo tenetur ab libero, culpa facere? Enim, quia inventore.</p>
    </div>
</div>
{% endblock %}